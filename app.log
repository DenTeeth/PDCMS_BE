nohup: ignoring input
Warning: JAVA_HOME environment variable is not set.
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------< com.privateclinic:dental-clinic-management >-------------
[INFO] Building dental-clinic-management 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.2.10:run (default-cli) > test-compile @ dental-clinic-management >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ dental-clinic-management ---
[INFO] Copying 2 resources from src\main\resources to target\classes
[INFO] Copying 2 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ dental-clinic-management ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 498 source files with javac [debug release 17] to target\classes
[WARNING] /D:/Code/PDCMS_BE/src/main/java/com/dental/clinic/management/working_schedule/domain/PartTimeRegistration.java:[100,18] @Builder will ignore the initializing expression entirely. If you want the initializing expression to serve as default, add @Builder.Default. If it is not supposed to be settable during building, make the field final.
[INFO] /D:/Code/PDCMS_BE/src/main/java/com/dental/clinic/management/booking_appointment/controller/AppointmentController.java: Some input files use or override a deprecated API.
[INFO] /D:/Code/PDCMS_BE/src/main/java/com/dental/clinic/management/booking_appointment/controller/AppointmentController.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ dental-clinic-management ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ dental-clinic-management ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 4 source files with javac [debug release 17] to target\test-classes
[INFO] 
[INFO] <<< spring-boot:3.2.10:run (default-cli) < test-compile @ dental-clinic-management <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.2.10:run (default-cli) @ dental-clinic-management ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v3.2.10)

2025-11-19T08:05:08.251-08:00  INFO 8932 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 17.0.12 with PID 8932 (D:\Code\PDCMS_BE\target\classes started by congt in D:\Code\PDCMS_BE)
2025-11-19T08:05:08.255-08:00 DEBUG 8932 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : Running with Spring Boot v3.2.10, Spring v6.1.13
2025-11-19T08:05:08.255-08:00  INFO 8932 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-11-19T08:05:10.808-08:00  INFO 8932 --- [Dental Clinic Management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-19T08:05:11.191-08:00  INFO 8932 --- [Dental Clinic Management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 369 ms. Found 44 JPA repository interfaces.
2025-11-19T08:05:12.900-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-19T08:05:12.927-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-19T08:05:12.927-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-19T08:05:13.044-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-19T08:05:13.048-08:00  INFO 8932 --- [Dental Clinic Management] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4674 ms
2025-11-19T08:05:13.601-08:00 DEBUG 8932 --- [Dental Clinic Management] [           main] c.d.c.m.config.JwtBlacklistFilter        : Filter 'jwtBlacklistFilter' configured for use
2025-11-19T08:05:13.870-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-19T08:05:13.988-08:00  INFO 8932 --- [Dental Clinic Management] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.10.Final
2025-11-19T08:05:14.045-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-19T08:05:14.472-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-19T08:05:14.518-08:00  INFO 8932 --- [Dental Clinic Management] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-19T08:05:14.733-08:00  INFO 8932 --- [Dental Clinic Management] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2520010e
2025-11-19T08:05:14.733-08:00  INFO 8932 --- [Dental Clinic Management] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-19T08:05:14.794-08:00  WARN 8932 --- [Dental Clinic Management] [           main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-19T08:05:18.160-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: 
    drop type if exists AppointmentActionType cascade
2025-11-19T08:05:18.277-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:18.277-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : drop cascades to 2 other objects
Hibernate: 
    drop type if exists AppointmentStatus cascade
2025-11-19T08:05:18.283-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:18.283-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : drop cascades to 2 other objects
Hibernate: 
    drop type if exists AppointmentReasonCode cascade
2025-11-19T08:05:18.289-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:18.290-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : drop cascades to 2 other objects
Hibernate: 
    create type AppointmentActionType as enum ('CANCEL','CREATE','DELAY','RESCHEDULE_SOURCE','RESCHEDULE_TARGET','STATUS_CHANGE')
Hibernate: 
    create cast (varchar as AppointmentActionType) with inout as implicit
Hibernate: 
    create cast (AppointmentActionType as varchar) with inout as implicit
Hibernate: 
    create type AppointmentStatus as enum ('CANCELLED','CHECKED_IN','COMPLETED','IN_PROGRESS','NO_SHOW','SCHEDULED')
Hibernate: 
    create cast (varchar as AppointmentStatus) with inout as implicit
Hibernate: 
    create cast (AppointmentStatus as varchar) with inout as implicit
Hibernate: 
    create type AppointmentReasonCode as enum ('DOCTOR_UNAVAILABLE','EQUIPMENT_FAILURE','OPERATIONAL_REDIRECT','OTHER','PATIENT_REQUEST','PREVIOUS_CASE_OVERRUN')
Hibernate: 
    create cast (varchar as AppointmentReasonCode) with inout as implicit
Hibernate: 
    create cast (AppointmentReasonCode as varchar) with inout as implicit
Hibernate: 
    create table account_verification_tokens (
        token_id varchar(50) not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        token varchar(100) not null,
        verified_at timestamp(6),
        account_id integer not null,
        primary key (token_id)
    )
Hibernate: 
    create table accounts (
        account_id serial not null,
        account_code varchar(20),
        created_at timestamp(6),
        email varchar(100) not null,
        must_change_password boolean,
        password varchar(255) not null,
        password_changed_at timestamp(6),
        status varchar(255) check (status in ('ACTIVE','INACTIVE','SUSPENDED','LOCKED','PENDING_VERIFICATION')),
        username varchar(50) not null,
        role_id varchar(50) not null,
        primary key (account_id)
    )
Hibernate: 
    create table appointment_audit_logs (
        log_id serial not null,
        action_timestamp timestamp(6),
        action_type appointment_action_type not null,
        appointment_id integer not null,
        created_at timestamp(6),
        new_start_time timestamp(6),
        new_status appointment_status_enum,
        new_value TEXT,
        notes TEXT,
        old_start_time timestamp(6),
        old_status appointment_status_enum,
        old_value TEXT,
        changed_by_employee_id integer,
        reason_code appointment_reason_code,
        primary key (log_id)
    )
Hibernate: 
    create table appointment_participants (
        appointment_id integer not null,
        employee_id integer not null,
        participant_role varchar(255) not null check (participant_role in ('ASSISTANT','SECONDARY_DOCTOR','OBSERVER')),
        primary key (appointment_id, employee_id)
    )
Hibernate: 
    create table appointment_plan_items (
        appointment_id bigint not null,
        item_id bigint not null,
        primary key (appointment_id, item_id)
    )
Hibernate: 
    create table appointment_services (
        appointment_id integer not null,
        service_id integer not null,
        primary key (appointment_id, service_id)
    )
Hibernate: 
    create table appointments (
        appointment_id serial not null,
        actual_end_time timestamp(6),
        actual_start_time timestamp(6),
        appointment_code varchar(20) not null,
        appointment_end_time timestamp(6) not null,
        appointment_start_time timestamp(6) not null,
        created_at timestamp(6),
        created_by integer,
        employee_id integer not null,
        expected_duration_minutes integer not null,
        notes TEXT,
        patient_id integer not null,
        rescheduled_to_appointment_id integer,
        room_id varchar(50) not null,
        status varchar(255) not null check (status in ('SCHEDULED','CHECKED_IN','IN_PROGRESS','COMPLETED','CANCELLED','NO_SHOW')),
        updated_at timestamp(6),
        primary key (appointment_id)
    )
Hibernate: 
    create table base_roles (
        base_role_id serial not null,
        base_role_name varchar(50) not null,
        created_at timestamp(6),
        description TEXT,
        is_active boolean,
        updated_at timestamp(6),
        primary key (base_role_id)
    )
Hibernate: 
    create table blacklisted_tokens (
        token_hash varchar(512) not null,
        blacklisted_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        reason varchar(50),
        account_id integer,
        primary key (token_hash)
    )
Hibernate: 
    create table contact_history (
        history_id varchar(20) not null,
        action varchar(20) not null check (action in ('CALL','MESSAGE','NOTE')),
        contact_id varchar(20) not null,
        content TEXT not null,
        created_at timestamp(6),
        employee_id integer,
        primary key (history_id)
    )
Hibernate: 
    create table customer_contacts (
        contact_id varchar(20) not null,
        assigned_to integer,
        converted_patient_id integer,
        created_at timestamp(6),
        email varchar(100),
        full_name varchar(100) not null,
        message TEXT,
        notes TEXT,
        phone varchar(15) not null,
        service_interested varchar(100),
        source varchar(20) check (source in ('WEBSITE','FACEBOOK','ZALO','WALK_IN','REFERRAL')),
        status varchar(20) check (status in ('NEW','CONTACTED','APPOINTMENT_SET','NOT_INTERESTED','CONVERTED')),
        updated_at timestamp(6),
        primary key (contact_id)
    )
Hibernate: 
    create table employee_leave_balances (
        balance_id bigserial not null,
        employee_id integer not null,
        notes TEXT,
        time_off_type_id varchar(50) not null,
        total_days_allowed float(53) not null,
        updated_at timestamp(6),
        days_taken float(53) not null,
        cycle_year integer not null,
        primary key (balance_id)
    )
Hibernate: 
    create table employee_shift_registrations (
        registration_id varchar(20) not null,
        effective_from date not null,
        effective_to date,
        employee_id integer not null,
        is_active BOOLEAN DEFAULT TRUE,
        part_time_slot_id bigint not null,
        primary key (registration_id)
    )
Hibernate: 
    create table employee_shifts (
        employee_shift_id varchar(20) not null,
        created_at timestamp(6) not null,
        created_by integer,
        is_overtime boolean not null,
        notes TEXT,
        source varchar(20) not null check (source in ('BATCH_JOB','REGISTRATION_JOB','OT_APPROVAL','MANUAL_ENTRY')),
        source_off_request_id varchar(20),
        source_ot_request_id varchar(20),
        status varchar(20) not null check (status in ('SCHEDULED','ON_LEAVE','COMPLETED','ABSENT','CANCELLED')),
        updated_at timestamp(6),
        work_date date not null,
        employee_id integer not null,
        work_shift_id varchar(20) not null,
        primary key (employee_shift_id),
        check (source IN ('BATCH_JOB', 'REGISTRATION_JOB', 'OT_APPROVAL', 'MANUAL_ENTRY'))
    )
Hibernate: 
    create table employee_specializations (
        employee_id integer not null,
        specialization_id integer not null,
        primary key (employee_id, specialization_id)
    )
Hibernate: 
    create table employees (
        employee_id serial not null,
        address TEXT,
        created_at timestamp(6),
        date_of_birth date,
        employee_code varchar(20),
        employment_type varchar(255) check (employment_type in ('FULL_TIME','PART_TIME_FIXED','PART_TIME_FLEX')),
        first_name varchar(50) not null,
        is_active boolean,
        last_name varchar(50) not null,
        phone varchar(15),
        account_id integer not null,
        primary key (employee_id)
    )
Hibernate: 
    create table fixed_registration_days (
        day_of_week varchar(10) not null,
        registration_id integer not null,
        primary key (day_of_week, registration_id)
    )
Hibernate: 
    create table fixed_shift_registrations (
        registration_id serial not null,
        created_at timestamp(6) not null,
        effective_from date not null,
        effective_to date,
        is_active boolean not null,
        updated_at timestamp(6),
        employee_id integer not null,
        work_shift_id varchar(20) not null,
        primary key (registration_id)
    )
Hibernate: 
    create table holiday_dates (
        definition_id varchar(20) not null,
        holiday_date date not null,
        created_at timestamp(6) not null,
        description varchar(500),
        updated_at timestamp(6),
        primary key (definition_id, holiday_date)
    )
Hibernate: 
    create table holiday_definitions (
        definition_id varchar(20) not null,
        created_at timestamp(6) not null,
        description varchar(500),
        holiday_name varchar(100) not null,
        holiday_type varchar(20) not null check (holiday_type in ('NATIONAL','COMPANY')),
        updated_at timestamp(6),
        primary key (definition_id)
    )
Hibernate: 
    create table leave_balance_history (
        history_id bigserial not null,
        balance_id bigint not null,
        change_amount float(53) not null,
        changed_by integer not null,
        created_at timestamp(6) not null,
        notes TEXT,
        reason varchar(50) not null check (reason in ('ANNUAL_RESET','APPROVED_REQUEST','REJECTED_REQUEST','CANCELLED_REQUEST','MANUAL_ADJUSTMENT')),
        primary key (history_id)
    )
Hibernate: 
    create table overtime_requests (
        request_id varchar(12) not null,
        approved_at timestamp(6),
        cancellation_reason TEXT,
        created_at timestamp(6) not null,
        reason TEXT not null,
        rejected_reason TEXT,
        status varchar(20) not null check (status in ('PENDING','APPROVED','REJECTED','CANCELLED')),
        work_date date not null,
        approved_by integer,
        employee_id integer not null,
        requested_by integer not null,
        work_shift_id varchar(20) not null,
        primary key (request_id)
    )
Hibernate: 
    create table part_time_registration_dates (
        registration_id integer not null,
        registered_date date
    )
Hibernate: 
    create table part_time_registrations (
        registration_id serial not null,
        created_at timestamp(6) not null,
        effective_from date not null,
        effective_to date not null,
        employee_id integer not null,
        is_active boolean not null,
        part_time_slot_id bigint not null,
        processed_at timestamp(6),
        processed_by integer,
        reason TEXT,
        status varchar(20) not null check (status in ('PENDING','APPROVED','REJECTED')),
        updated_at timestamp(6),
        version bigint not null,
        primary key (registration_id)
    )
Hibernate: 
    create table part_time_slots (
        slot_id bigserial not null,
        created_at timestamp(6) not null,
        day_of_week varchar(255) not null,
        effective_from date not null,
        effective_to date not null,
        is_active boolean not null,
        quota integer not null,
        updated_at timestamp(6),
        work_shift_id varchar(20) not null,
        primary key (slot_id)
    )
Hibernate: 
    create table password_reset_tokens (
        token_id varchar(50) not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        token varchar(100) not null,
        used_at timestamp(6),
        account_id integer not null,
        primary key (token_id)
    )
Hibernate: 
    create table patient_plan_items (
        item_id bigserial not null,
        completed_at timestamp(6),
        created_at timestamp(6) not null,
        estimated_time_minutes integer,
        item_name varchar(255) not null,
        price numeric(10,2),
        sequence_number integer not null,
        status varchar(30) not null check (status in ('READY_FOR_BOOKING','SCHEDULED','IN_PROGRESS','COMPLETED')),
        price_update_reason varchar(500),
        price_updated_at timestamp(6),
        service_id integer not null,
        phase_id bigint not null,
        price_updated_by integer,
        primary key (item_id)
    )
Hibernate: 
    create table patient_plan_phases (
        patient_phase_id bigserial not null,
        completion_date date,
        created_at timestamp(6) not null,
        phase_name varchar(255) not null,
        phase_number integer not null,
        start_date date,
        status varchar(20) check (status in ('PENDING','IN_PROGRESS','COMPLETED')),
        estimated_duration_days integer,
        plan_id bigint not null,
        primary key (patient_phase_id)
    )
Hibernate: 
    create table patient_treatment_plans (
        plan_id bigserial not null,
        created_at timestamp(6) not null,
        created_by integer,
        expected_end_date date,
        patient_id integer not null,
        plan_code varchar(50) not null,
        plan_name varchar(255) not null,
        start_date date,
        status varchar(20) check (status in ('IN_PROGRESS','COMPLETED','CANCELLED')),
        template_id bigint,
        total_price numeric(12,2),
        approval_status varchar(20) not null check (approval_status in ('DRAFT','PENDING_REVIEW','APPROVED','REJECTED')),
        approved_at timestamp(6),
        discount_amount numeric(12,2),
        final_cost numeric(12,2),
        patient_consent_date timestamp(6),
        payment_type varchar(20) check (payment_type in ('FULL','PHASED','INSTALLMENT')),
        rejection_reason TEXT,
        approved_by integer,
        primary key (plan_id)
    )
Hibernate: 
    create table patients (
        patient_id serial not null,
        address TEXT,
        allergies TEXT,
        created_at timestamp(6),
        date_of_birth date,
        email varchar(100),
        emergency_contact_name varchar(100),
        emergency_contact_phone varchar(15),
        first_name varchar(50) not null,
        gender varchar(10) check (gender in ('MALE','FEMALE','OTHER')),
        is_active boolean,
        last_name varchar(50) not null,
        medical_history TEXT,
        patient_code varchar(20),
        phone varchar(15),
        updated_at timestamp(6),
        account_id integer,
        primary key (patient_id)
    )
Hibernate: 
    create table permissions (
        permission_id varchar(30) not null,
        created_at timestamp(6),
        description TEXT,
        display_order integer,
        is_active boolean,
        module varchar(20) not null,
        permission_name varchar(100) not null,
        parent_permission_id varchar(30),
        primary key (permission_id)
    )
Hibernate: 
    create table plan_audit_logs (
        log_id bigserial not null,
        action_type varchar(50) not null,
        created_at timestamp(6) not null,
        new_approval_status varchar(20) check (new_approval_status in ('DRAFT','PENDING_REVIEW','APPROVED','REJECTED')),
        notes TEXT,
        old_approval_status varchar(20) check (old_approval_status in ('DRAFT','PENDING_REVIEW','APPROVED','REJECTED')),
        performed_by integer not null,
        plan_id bigint not null,
        primary key (log_id)
    )
Hibernate: 
    create table refresh_tokens (
        id varchar(36) not null,
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        is_active boolean not null,
        token_hash varchar(512) not null,
        updated_at timestamp(6),
        account_id integer not null,
        primary key (id)
    )
Hibernate: 
    create table role_permissions (
        role_id varchar(50) not null,
        permission_id varchar(30) not null,
        primary key (role_id, permission_id)
    )
Hibernate: 
    create table roles (
        role_id varchar(50) not null,
        created_at timestamp(6),
        description TEXT,
        is_active boolean,
        requires_specialization boolean,
        role_name varchar(50) not null,
        base_role_id integer not null,
        primary key (role_id)
    )
Hibernate: 
    create table room_services (
        created_at timestamp(6) not null,
        room_id varchar(255) not null,
        service_id integer not null,
        primary key (room_id, service_id)
    )
Hibernate: 
    create table rooms (
        room_id varchar(50) not null,
        created_at timestamp(6),
        is_active boolean,
        room_code varchar(20) not null,
        room_name varchar(100) not null,
        room_type varchar(50),
        primary key (room_id)
    )
Hibernate: 
    create table service_categories (
        category_id bigserial not null,
        category_code varchar(50) not null,
        category_name varchar(255) not null,
        created_at timestamp(6) not null,
        description TEXT,
        display_order integer not null,
        is_active boolean not null,
        updated_at timestamp(6),
        primary key (category_id)
    )
Hibernate: 
    create table service_dependencies (
        dependency_id bigserial not null,
        created_at timestamp(6) not null,
        min_days_apart integer,
        receptionist_note TEXT,
        rule_type varchar(30) not null check (rule_type in ('REQUIRES_PREREQUISITE','REQUIRES_MIN_DAYS','EXCLUDES_SAME_DAY','BUNDLES_WITH')),
        dependent_service_id bigint not null,
        service_id bigint not null,
        primary key (dependency_id)
    )
Hibernate: 
    create table services (
        service_id serial not null,
        created_at timestamp(6) not null,
        default_buffer_minutes integer not null check (default_buffer_minutes>=0),
        default_duration_minutes integer not null check (default_duration_minutes>=1),
        description TEXT,
        display_order integer not null,
        is_active boolean not null,
        price numeric(15,2) not null check (price>=0),
        service_code varchar(50) not null,
        service_name varchar(255) not null,
        updated_at timestamp(6),
        duration_minutes integer,
        specialization_id integer,
        category_id bigint,
        primary key (service_id)
    )
Hibernate: 
    create table shift_renewal_requests (
        renewal_id varchar(20) not null,
        confirmed_at timestamp(6),
        created_at timestamp(6) not null,
        decline_reason TEXT,
        expires_at timestamp(6) not null,
        status varchar(20) not null check (status in ('PENDING_ACTION','CONFIRMED','FINALIZED','DECLINED','EXPIRED')),
        updated_at timestamp(6),
        employee_id integer not null,
        expiring_registration_id integer not null,
        primary key (renewal_id)
    )
Hibernate: 
    create table specializations (
        specialization_id integer not null,
        created_at timestamp(6),
        description TEXT,
        is_active boolean,
        specialization_code varchar(20) not null,
        specialization_name varchar(100) not null,
        primary key (specialization_id)
    )
Hibernate: 
    create table template_phase_services (
        phase_service_id bigserial not null,
        created_at timestamp(6),
        estimated_time_minutes integer,
        quantity integer not null,
        sequence_number integer not null,
        updated_at timestamp(6),
        service_id bigint not null,
        phase_id bigint not null,
        primary key (phase_service_id)
    )
Hibernate: 
    create table template_phases (
        phase_id bigserial not null,
        created_at timestamp(6),
        estimated_duration_days integer,
        phase_name varchar(255) not null,
        phase_number integer not null,
        updated_at timestamp(6),
        template_id bigint not null,
        primary key (phase_id)
    )
Hibernate: 
    create table time_off_requests (
        request_id varchar(50) not null,
        approved_at timestamp(6),
        approved_by integer,
        cancellation_reason TEXT,
        employee_id integer not null,
        end_date date not null,
        reason TEXT,
        rejected_reason TEXT,
        requested_at timestamp(6) not null,
        requested_by integer not null,
        start_date date not null,
        status varchar(20) not null check (status in ('PENDING','APPROVED','REJECTED','CANCELLED')),
        time_off_type_id varchar(50) not null,
        work_shift_id varchar(50),
        primary key (request_id)
    )
Hibernate: 
    create table time_off_types (
        type_id varchar(50) not null,
        default_days_per_year float(53),
        description TEXT,
        is_active boolean not null,
        is_paid boolean not null,
        requires_approval boolean not null,
        requires_balance boolean not null,
        type_code varchar(50) not null,
        type_name varchar(100) not null,
        primary key (type_id)
    )
Hibernate: 
    create table treatment_plan_templates (
        template_id bigserial not null,
        created_at timestamp(6),
        description TEXT,
        estimated_duration_days integer,
        is_active boolean,
        template_code varchar(50) not null,
        template_name varchar(255) not null,
        total_price numeric(12,2),
        updated_at timestamp(6),
        specialization_id integer,
        primary key (template_id)
    )
Hibernate: 
    create table work_shifts (
        work_shift_id varchar(20) not null,
        category varchar(20) not null check (category in ('NORMAL','NIGHT')),
        end_time time(6) not null,
        is_active boolean not null,
        shift_name varchar(100) not null,
        start_time time(6) not null,
        primary key (work_shift_id)
    )
Hibernate: 
    alter table if exists account_verification_tokens 
       drop constraint if exists UK_i7agin0w2kpuysbdad72x1b68
2025-11-19T08:05:21.001-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.001-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_i7agin0w2kpuysbdad72x1b68" of relation "account_verification_tokens" does not exist, skipping
Hibernate: 
    alter table if exists account_verification_tokens 
       add constraint UK_i7agin0w2kpuysbdad72x1b68 unique (token)
Hibernate: 
    alter table if exists accounts 
       drop constraint if exists UK_ohk73u483aagsew869bjtem5j
2025-11-19T08:05:21.028-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.028-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_ohk73u483aagsew869bjtem5j" of relation "accounts" does not exist, skipping
Hibernate: 
    alter table if exists accounts 
       add constraint UK_ohk73u483aagsew869bjtem5j unique (account_code)
Hibernate: 
    alter table if exists accounts 
       drop constraint if exists UK_n7ihswpy07ci568w34q0oi8he
2025-11-19T08:05:21.171-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.171-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_n7ihswpy07ci568w34q0oi8he" of relation "accounts" does not exist, skipping
Hibernate: 
    alter table if exists accounts 
       add constraint UK_n7ihswpy07ci568w34q0oi8he unique (email)
Hibernate: 
    alter table if exists accounts 
       drop constraint if exists UK_k8h1bgqoplx0rkngj01pm1rgp
2025-11-19T08:05:21.416-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.417-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_k8h1bgqoplx0rkngj01pm1rgp" of relation "accounts" does not exist, skipping
Hibernate: 
    alter table if exists accounts 
       add constraint UK_k8h1bgqoplx0rkngj01pm1rgp unique (username)
Hibernate: 
    alter table if exists appointments 
       drop constraint if exists UK_88w59a3uq8pvoxypr2ejldy0h
2025-11-19T08:05:21.448-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.448-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_88w59a3uq8pvoxypr2ejldy0h" of relation "appointments" does not exist, skipping
Hibernate: 
    alter table if exists appointments 
       add constraint UK_88w59a3uq8pvoxypr2ejldy0h unique (appointment_code)
Hibernate: 
    alter table if exists base_roles 
       drop constraint if exists UK_7u3dri0cxmwel1xkqugsyih7e
2025-11-19T08:05:21.485-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.485-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_7u3dri0cxmwel1xkqugsyih7e" of relation "base_roles" does not exist, skipping
Hibernate: 
    alter table if exists base_roles 
       add constraint UK_7u3dri0cxmwel1xkqugsyih7e unique (base_role_name)
Hibernate: 
    create index idx_employee_workdate 
       on employee_shifts (employee_id, work_date)
Hibernate: 
    create index idx_workdate_status 
       on employee_shifts (work_date, status)
Hibernate: 
    alter table if exists employee_shifts 
       drop constraint if exists uk_employee_date_shift
2025-11-19T08:05:21.565-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.565-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_employee_date_shift" of relation "employee_shifts" does not exist, skipping
Hibernate: 
    alter table if exists employee_shifts 
       add constraint uk_employee_date_shift unique (employee_id, work_date, work_shift_id)
Hibernate: 
    alter table if exists employees 
       drop constraint if exists UK_etqhw9qqnad1kyjq3ks1glw8x
2025-11-19T08:05:21.595-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.595-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_etqhw9qqnad1kyjq3ks1glw8x" of relation "employees" does not exist, skipping
Hibernate: 
    alter table if exists employees 
       add constraint UK_etqhw9qqnad1kyjq3ks1glw8x unique (employee_code)
Hibernate: 
    alter table if exists employees 
       drop constraint if exists UK_guw5r3c5brob94evptgkjl9hr
2025-11-19T08:05:21.621-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.621-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_guw5r3c5brob94evptgkjl9hr" of relation "employees" does not exist, skipping
Hibernate: 
    alter table if exists employees 
       add constraint UK_guw5r3c5brob94evptgkjl9hr unique (account_id)
Hibernate: 
    create index idx_fixed_shift_employee 
       on fixed_shift_registrations (employee_id, work_shift_id, is_active)
Hibernate: 
    alter table if exists holiday_definitions 
       drop constraint if exists UK_ktr3d1k8am4fpie5fjrpa7y15
2025-11-19T08:05:21.661-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.661-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_ktr3d1k8am4fpie5fjrpa7y15" of relation "holiday_definitions" does not exist, skipping
Hibernate: 
    alter table if exists holiday_definitions 
       add constraint UK_ktr3d1k8am4fpie5fjrpa7y15 unique (holiday_name)
Hibernate: 
    create index idx_overtime_employee 
       on overtime_requests (employee_id)
Hibernate: 
    create index idx_overtime_status 
       on overtime_requests (status)
Hibernate: 
    create index idx_overtime_work_date 
       on overtime_requests (work_date)
Hibernate: 
    create index idx_overtime_requested_by 
       on overtime_requests (requested_by)
Hibernate: 
    alter table if exists overtime_requests 
       drop constraint if exists uk_overtime_employee_date_shift
2025-11-19T08:05:21.758-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.758-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_overtime_employee_date_shift" of relation "overtime_requests" does not exist, skipping
Hibernate: 
    alter table if exists overtime_requests 
       add constraint uk_overtime_employee_date_shift unique (employee_id, work_date, work_shift_id)
Hibernate: 
    alter table if exists password_reset_tokens 
       drop constraint if exists UK_71lqwbwtklmljk3qlsugr1mig
2025-11-19T08:05:21.784-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.784-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_71lqwbwtklmljk3qlsugr1mig" of relation "password_reset_tokens" does not exist, skipping
Hibernate: 
    alter table if exists password_reset_tokens 
       add constraint UK_71lqwbwtklmljk3qlsugr1mig unique (token)
Hibernate: 
    alter table if exists patient_treatment_plans 
       drop constraint if exists UK_kebtlup89fbk9qbbqa6km0an6
2025-11-19T08:05:21.811-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.811-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_kebtlup89fbk9qbbqa6km0an6" of relation "patient_treatment_plans" does not exist, skipping
Hibernate: 
    alter table if exists patient_treatment_plans 
       add constraint UK_kebtlup89fbk9qbbqa6km0an6 unique (plan_code)
Hibernate: 
    alter table if exists patients 
       drop constraint if exists UK_pdu5f0e015icwwcx7otn46rv8
2025-11-19T08:05:21.842-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.842-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_pdu5f0e015icwwcx7otn46rv8" of relation "patients" does not exist, skipping
Hibernate: 
    alter table if exists patients 
       add constraint UK_pdu5f0e015icwwcx7otn46rv8 unique (patient_code)
Hibernate: 
    alter table if exists patients 
       drop constraint if exists UK_k9r3mhukb7ml6ownhkekh1htj
2025-11-19T08:05:21.869-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.869-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_k9r3mhukb7ml6ownhkekh1htj" of relation "patients" does not exist, skipping
Hibernate: 
    alter table if exists patients 
       add constraint UK_k9r3mhukb7ml6ownhkekh1htj unique (account_id)
Hibernate: 
    alter table if exists refresh_tokens 
       drop constraint if exists UK_o2mlirhldriil2y7krapq4frt
2025-11-19T08:05:21.902-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.903-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_o2mlirhldriil2y7krapq4frt" of relation "refresh_tokens" does not exist, skipping
Hibernate: 
    alter table if exists refresh_tokens 
       add constraint UK_o2mlirhldriil2y7krapq4frt unique (token_hash)
Hibernate: 
    alter table if exists rooms 
       drop constraint if exists UK_ejc4trkinbxtajwetru2o8kdo
2025-11-19T08:05:21.931-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.931-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_ejc4trkinbxtajwetru2o8kdo" of relation "rooms" does not exist, skipping
Hibernate: 
    alter table if exists rooms 
       add constraint UK_ejc4trkinbxtajwetru2o8kdo unique (room_code)
Hibernate: 
    alter table if exists service_categories 
       drop constraint if exists UK_iy8o91sdp1j4yf5not3ri1ai
2025-11-19T08:05:21.958-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:21.959-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_iy8o91sdp1j4yf5not3ri1ai" of relation "service_categories" does not exist, skipping
Hibernate: 
    alter table if exists service_categories 
       add constraint UK_iy8o91sdp1j4yf5not3ri1ai unique (category_code)
Hibernate: 
    create index idx_service_deps_service 
       on service_dependencies (service_id, rule_type)
Hibernate: 
    create index idx_service_deps_dependent 
       on service_dependencies (dependent_service_id)
Hibernate: 
    alter table if exists services 
       drop constraint if exists UK_rm9rfu0ekvjb9y1ff8blnaf0i
2025-11-19T08:05:22.029-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:22.030-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_rm9rfu0ekvjb9y1ff8blnaf0i" of relation "services" does not exist, skipping
Hibernate: 
    alter table if exists services 
       add constraint UK_rm9rfu0ekvjb9y1ff8blnaf0i unique (service_code)
Hibernate: 
    create index idx_renewal_employee_status 
       on shift_renewal_requests (employee_id, status)
Hibernate: 
    create index idx_renewal_expires_at 
       on shift_renewal_requests (expires_at)
Hibernate: 
    alter table if exists specializations 
       drop constraint if exists UK_gy8dakj283hqsmg0hneowcylv
2025-11-19T08:05:22.097-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:22.097-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_gy8dakj283hqsmg0hneowcylv" of relation "specializations" does not exist, skipping
Hibernate: 
    alter table if exists specializations 
       add constraint UK_gy8dakj283hqsmg0hneowcylv unique (specialization_code)
Hibernate: 
    alter table if exists template_phase_services 
       drop constraint if exists uk_phase_service
2025-11-19T08:05:22.124-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:22.125-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_phase_service" of relation "template_phase_services" does not exist, skipping
Hibernate: 
    alter table if exists template_phase_services 
       add constraint uk_phase_service unique (phase_id, service_id)
Hibernate: 
    alter table if exists template_phases 
       drop constraint if exists uk_template_phase_number
2025-11-19T08:05:22.151-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:22.151-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_template_phase_number" of relation "template_phases" does not exist, skipping
Hibernate: 
    alter table if exists template_phases 
       add constraint uk_template_phase_number unique (template_id, phase_number)
Hibernate: 
    alter table if exists time_off_types 
       drop constraint if exists UK_gqd3dggybwsufrnug74pgub35
2025-11-19T08:05:22.177-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:22.178-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_gqd3dggybwsufrnug74pgub35" of relation "time_off_types" does not exist, skipping
Hibernate: 
    alter table if exists time_off_types 
       add constraint UK_gqd3dggybwsufrnug74pgub35 unique (type_code)
Hibernate: 
    alter table if exists treatment_plan_templates 
       drop constraint if exists UK_a11nbk68pswirkk5dgntlm2og
2025-11-19T08:05:22.206-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-19T08:05:22.206-08:00  WARN 8932 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_a11nbk68pswirkk5dgntlm2og" of relation "treatment_plan_templates" does not exist, skipping
Hibernate: 
    alter table if exists treatment_plan_templates 
       add constraint UK_a11nbk68pswirkk5dgntlm2og unique (template_code)
Hibernate: 
    create index idx_work_shift_is_active 
       on work_shifts (is_active)
Hibernate: 
    create index idx_work_shift_category 
       on work_shifts (category)
Hibernate: 
    create index idx_work_shift_start_time 
       on work_shifts (start_time)
Hibernate: 
    create index idx_work_shift_active_category 
       on work_shifts (is_active, category)
Hibernate: 
    alter table if exists account_verification_tokens 
       add constraint FKd65calywteb2v1dv1q8geafcw 
       foreign key (account_id) 
       references accounts
Hibernate: 
    alter table if exists accounts 
       add constraint FKt3wava8ssfdspnh3hg4col3m1 
       foreign key (role_id) 
       references roles
Hibernate: 
    alter table if exists blacklisted_tokens 
       add constraint FKkjxoxt3415dhlkhe8osvdqh02 
       foreign key (account_id) 
       references accounts
Hibernate: 
    alter table if exists employee_shifts 
       add constraint FK6wol1934mgshd2u61dbg55q1d 
       foreign key (employee_id) 
       references employees
Hibernate: 
    alter table if exists employee_shifts 
       add constraint FK3ogimsoo4uq6xs1rkn81lgdpu 
       foreign key (work_shift_id) 
       references work_shifts
Hibernate: 
    alter table if exists employee_specializations 
       add constraint FKfot1n1vx9ue3sak3rk6jwkcbp 
       foreign key (specialization_id) 
       references specializations
Hibernate: 
    alter table if exists employee_specializations 
       add constraint FK41i97rxmv2gd0vuftr2ypv26i 
       foreign key (employee_id) 
       references employees
Hibernate: 
    alter table if exists employees 
       add constraint FK8dwhb0qmor08fl06pde1bef3c 
       foreign key (account_id) 
       references accounts
Hibernate: 
    alter table if exists fixed_registration_days 
       add constraint FKq7no3do6viouhy6e86mi9pulf 
       foreign key (registration_id) 
       references fixed_shift_registrations
Hibernate: 
    alter table if exists fixed_shift_registrations 
       add constraint FKafu5m71k0680f5v3fw8d3uolt 
       foreign key (employee_id) 
       references employees
Hibernate: 
    alter table if exists fixed_shift_registrations 
       add constraint FK8j5s36okbediuwegaal9njeco 
       foreign key (work_shift_id) 
       references work_shifts
Hibernate: 
    alter table if exists holiday_dates 
       add constraint FK6ev54weipvaxplbgnkdgkog1a 
       foreign key (definition_id) 
       references holiday_definitions
Hibernate: 
    alter table if exists overtime_requests 
       add constraint FKgqoukhteuovrbhmmmdw5s9wys 
       foreign key (approved_by) 
       references employees
Hibernate: 
    alter table if exists overtime_requests 
       add constraint FKg5wygdf15wnj0dhc2mgquajh5 
       foreign key (employee_id) 
       references employees
Hibernate: 
    alter table if exists overtime_requests 
       add constraint FK2xalx6i1kksbjt9wm5yu36waq 
       foreign key (requested_by) 
       references employees
Hibernate: 
    alter table if exists overtime_requests 
       add constraint FK30ui3g8apytrg9r0t8nnjvqy8 
       foreign key (work_shift_id) 
       references work_shifts
Hibernate: 
    alter table if exists part_time_registration_dates 
       add constraint FKmgasng55unfl2phsf0owcg6g0 
       foreign key (registration_id) 
       references part_time_registrations
Hibernate: 
    alter table if exists part_time_registrations 
       add constraint FK5491w9che5bxfhjvymekrc08j 
       foreign key (part_time_slot_id) 
       references part_time_slots
Hibernate: 
    alter table if exists part_time_slots 
       add constraint FKtelqols1hhqkj82e96gf4jtx0 
       foreign key (work_shift_id) 
       references work_shifts
Hibernate: 
    alter table if exists password_reset_tokens 
       add constraint FKakpd9ro0vywgwa7hqmpbdurma 
       foreign key (account_id) 
       references accounts
Hibernate: 
    alter table if exists patient_plan_items 
       add constraint FKajhhc2oavr2j9u77rymlk1bsc 
       foreign key (phase_id) 
       references patient_plan_phases
Hibernate: 
    alter table if exists patient_plan_items 
       add constraint FKo7frdk5uy178dv98767g1mv4e 
       foreign key (service_id) 
       references services
Hibernate: 
    alter table if exists patient_plan_items 
       add constraint FKbj3txddhb9kll8gikwuevnf1d 
       foreign key (price_updated_by) 
       references employees
Hibernate: 
    alter table if exists patient_plan_phases 
       add constraint FKeqycgrilelw6shu9e096jevqg 
       foreign key (plan_id) 
       references patient_treatment_plans
Hibernate: 
    alter table if exists patient_treatment_plans 
       add constraint FK28eg253mqv7ftvj0h698ofcji 
       foreign key (approved_by) 
       references employees
Hibernate: 
    alter table if exists patient_treatment_plans 
       add constraint FKcutkshpl3128muaq5dlm3rg5i 
       foreign key (created_by) 
       references employees
Hibernate: 
    alter table if exists patient_treatment_plans 
       add constraint FK1jvc9s12279mmsak8mcc2f823 
       foreign key (patient_id) 
       references patients
Hibernate: 
    alter table if exists patient_treatment_plans 
       add constraint FK22xqwmhdrvnu8amb661b9tmhb 
       foreign key (template_id) 
       references treatment_plan_templates
Hibernate: 
    alter table if exists patients 
       add constraint FKflgrec6bbs3jrbf93o9fixjma 
       foreign key (account_id) 
       references accounts
Hibernate: 
    alter table if exists permissions 
       add constraint FKt19537okhho643n2k2rm7hndm 
       foreign key (parent_permission_id) 
       references permissions
Hibernate: 
    alter table if exists plan_audit_logs 
       add constraint FKsixohp3danuip5ae5y53th6v 
       foreign key (performed_by) 
       references employees
Hibernate: 
    alter table if exists plan_audit_logs 
       add constraint FK2akmwm4e5ubr3yxmrtuw3s55v 
       foreign key (plan_id) 
       references patient_treatment_plans
Hibernate: 
    alter table if exists refresh_tokens 
       add constraint FK6fm1gdbsrg5h8r5e3voiu6bo9 
       foreign key (account_id) 
       references accounts
Hibernate: 
    alter table if exists role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
Hibernate: 
    alter table if exists role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
Hibernate: 
    alter table if exists roles 
       add constraint FK7f29dqoh0pp18arhlev16ih8m 
       foreign key (base_role_id) 
       references base_roles
Hibernate: 
    alter table if exists room_services 
       add constraint FKewq1euu8r5i0c2f1ejfout7ty 
       foreign key (room_id) 
       references rooms
Hibernate: 
    alter table if exists room_services 
       add constraint FKrvoqlh9yqrup1v41ejfevv6po 
       foreign key (service_id) 
       references services
Hibernate: 
    alter table if exists service_dependencies 
       add constraint FKff06lpsul01hja3kiebbjpgu8 
       foreign key (dependent_service_id) 
       references services
Hibernate: 
    alter table if exists service_dependencies 
       add constraint FKovopbib4xy8ynrv0o6lt8e0gt 
       foreign key (service_id) 
       references services
Hibernate: 
    alter table if exists services 
       add constraint fk_service_specialization 
       foreign key (specialization_id) 
       references specializations
Hibernate: 
    alter table if exists services 
       add constraint FKfffr4emayc2n4uq3yv618d9j0 
       foreign key (category_id) 
       references service_categories
Hibernate: 
    alter table if exists shift_renewal_requests 
       add constraint FKahiiactjqoa8a1k7r7l2l5opn 
       foreign key (employee_id) 
       references employees
Hibernate: 
    alter table if exists shift_renewal_requests 
       add constraint FKncr2j6efhntt0pk4icaao6ih4 
       foreign key (expiring_registration_id) 
       references fixed_shift_registrations
Hibernate: 
    alter table if exists template_phase_services 
       add constraint FKeb23prawjc2fm16ap0n3091ll 
       foreign key (service_id) 
       references services
Hibernate: 
    alter table if exists template_phase_services 
       add constraint FK41b1vy8w5cvmqxyp192b55pci 
       foreign key (phase_id) 
       references template_phases
Hibernate: 
    alter table if exists template_phases 
       add constraint FK6evjyipgggjj11tsvt4onn9sh 
       foreign key (template_id) 
       references treatment_plan_templates
Hibernate: 
    alter table if exists time_off_requests 
       add constraint FK96a7mdsghieplrhe7vgrw2pov 
       foreign key (approved_by) 
       references employees
Hibernate: 
    alter table if exists time_off_requests 
       add constraint FK3j49edgkahbbsp0v211m9rf3 
       foreign key (employee_id) 
       references employees
Hibernate: 
    alter table if exists time_off_requests 
       add constraint FKqy09t9bsvuxvnhfuxq316aapi 
       foreign key (requested_by) 
       references employees
Hibernate: 
    alter table if exists treatment_plan_templates 
       add constraint FKea0llj5rlnsaa1qxhrnpu98vf 
       foreign key (specialization_id) 
       references specializations
2025-11-19T08:05:23.197-08:00  INFO 8932 --- [Dental Clinic Management] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-19T08:05:23.821-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-19T08:05:27.222-08:00  INFO 8932 --- [Dental Clinic Management] [           main] c.d.c.m.b.service.RoomService            : IdGenerator injected into Room entity
2025-11-19T08:05:29.488-08:00  WARN 8932 --- [Dental Clinic Management] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-19T08:05:30.572-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-11-19T08:05:30.700-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fb4be0a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47f75587, org.springframework.security.web.context.SecurityContextHolderFilter@142e406e, org.springframework.security.web.header.HeaderWriterFilter@73aefcd, org.springframework.web.filter.CorsFilter@3bb0a1f0, org.springframework.security.web.authentication.logout.LogoutFilter@28d00f54, com.dental.clinic.management.config.JwtBlacklistFilter@54275b5d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@56a76908, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a30a69e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d03d598, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7af42df5, org.springframework.security.web.session.SessionManagementFilter@198ee4e5, org.springframework.security.web.access.ExceptionTranslationFilter@57bb9c59, org.springframework.security.web.access.intercept.AuthorizationFilter@26cefe4c]
2025-11-19T08:05:34.252-08:00  INFO 8932 --- [Dental Clinic Management] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-11-19T08:05:34.288-08:00  INFO 8932 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 26.945 seconds (process running for 27.863)
2025-11-19T08:06:50.224-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-19T08:06:50.224-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-19T08:06:50.228-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        br1_0.base_role_id,
        br1_0.base_role_name,
        br1_0.created_at,
        br1_0.description,
        br1_0.is_active,
        br1_0.updated_at,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        p1_1.parent_permission_id,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    join
        base_roles br1_0 
            on br1_0.base_role_id=r1_0.base_role_id 
    join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    where
        a1_0.username=?
Hibernate: 
    select
        e1_0.employee_id,
        e1_0.account_id,
        e1_0.address,
        e1_0.created_at,
        e1_0.date_of_birth,
        e1_0.employee_code,
        e1_0.employment_type,
        e1_0.first_name,
        e1_0.is_active,
        e1_0.last_name,
        e1_0.phone 
    from
        employees e1_0 
    where
        e1_0.account_id=?
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.account_id,
        p1_0.address,
        p1_0.allergies,
        p1_0.created_at,
        p1_0.date_of_birth,
        p1_0.email,
        p1_0.emergency_contact_name,
        p1_0.emergency_contact_phone,
        p1_0.first_name,
        p1_0.gender,
        p1_0.is_active,
        p1_0.last_name,
        p1_0.medical_history,
        p1_0.patient_code,
        p1_0.phone,
        p1_0.updated_at 
    from
        patients p1_0 
    where
        p1_0.account_id=?
Hibernate: 
    select
        p1_0.permission_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.display_order,
        p1_0.is_active,
        p1_0.module,
        pp1_0.permission_id,
        pp1_0.created_at,
        pp1_0.description,
        pp1_0.display_order,
        pp1_0.is_active,
        pp1_0.module,
        pp1_0.parent_permission_id,
        pp1_0.permission_name,
        p1_0.permission_name 
    from
        permissions p1_0 
    left join
        permissions pp1_0 
            on pp1_0.permission_id=p1_0.parent_permission_id 
    where
        p1_0.permission_id=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        br1_0.base_role_id,
        br1_0.base_role_name,
        br1_0.created_at,
        br1_0.description,
        br1_0.is_active,
        br1_0.updated_at,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        p1_1.parent_permission_id,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    join
        base_roles br1_0 
            on br1_0.base_role_id=r1_0.base_role_id 
    join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    where
        a1_0.username=?
Hibernate: 
    select
        rt1_0.id,
        rt1_0.account_id,
        rt1_0.created_at,
        rt1_0.expires_at,
        rt1_0.is_active,
        rt1_0.token_hash,
        rt1_0.updated_at 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.id=?
2025-11-19T08:06:51.438-08:00 DEBUG 8932 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: admin
2025-11-19T08:06:51.439-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: admin
2025-11-19T08:06:51.439-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_ADMIN
2025-11-19T08:06:51.439-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.a.service.AuthenticationService  :   baseRole: admin
2025-11-19T08:06:51.439-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, EMPLOYEE, TREATMENT, SYSTEM_CONFIGURATION, LEAVE_MANAGEMENT, ROOM_MANAGEMENT, ACCOUNT, APPOINTMENT, HOLIDAY, PATIENT, CUSTOMER_MANAGEMENT, TREATMENT_PLAN, SCHEDULE_MANAGEMENT]
2025-11-19T08:06:51.439-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
Hibernate: 
    insert 
    into
        refresh_tokens
        (account_id, created_at, expires_at, is_active, token_hash, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        br1_0.base_role_id,
        br1_0.base_role_name,
        br1_0.created_at,
        br1_0.description,
        br1_0.is_active,
        br1_0.updated_at,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        p1_1.parent_permission_id,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    join
        base_roles br1_0 
            on br1_0.base_role_id=r1_0.base_role_id 
    join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    where
        a1_0.username=?
Hibernate: 
    select
        e1_0.employee_id,
        e1_0.account_id,
        e1_0.address,
        e1_0.created_at,
        e1_0.date_of_birth,
        e1_0.employee_code,
        e1_0.employment_type,
        e1_0.first_name,
        e1_0.is_active,
        e1_0.last_name,
        e1_0.phone 
    from
        employees e1_0 
    where
        e1_0.account_id=?
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.account_id,
        p1_0.address,
        p1_0.allergies,
        p1_0.created_at,
        p1_0.date_of_birth,
        p1_0.email,
        p1_0.emergency_contact_name,
        p1_0.emergency_contact_phone,
        p1_0.first_name,
        p1_0.gender,
        p1_0.is_active,
        p1_0.last_name,
        p1_0.medical_history,
        p1_0.patient_code,
        p1_0.phone,
        p1_0.updated_at 
    from
        patients p1_0 
    where
        p1_0.account_id=?
Hibernate: 
    select
        p1_0.permission_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.display_order,
        p1_0.is_active,
        p1_0.module,
        pp1_0.permission_id,
        pp1_0.created_at,
        pp1_0.description,
        pp1_0.display_order,
        pp1_0.is_active,
        pp1_0.module,
        pp1_0.parent_permission_id,
        pp1_0.permission_name,
        p1_0.permission_name 
    from
        permissions p1_0 
    left join
        permissions pp1_0 
            on pp1_0.permission_id=p1_0.parent_permission_id 
    where
        p1_0.permission_id=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        br1_0.base_role_id,
        br1_0.base_role_name,
        br1_0.created_at,
        br1_0.description,
        br1_0.is_active,
        br1_0.updated_at,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        p1_1.parent_permission_id,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    join
        base_roles br1_0 
            on br1_0.base_role_id=r1_0.base_role_id 
    join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    where
        a1_0.username=?
Hibernate: 
    select
        rt1_0.id,
        rt1_0.account_id,
        rt1_0.created_at,
        rt1_0.expires_at,
        rt1_0.is_active,
        rt1_0.token_hash,
        rt1_0.updated_at 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.id=?
2025-11-19T08:07:07.654-08:00 DEBUG 8932 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: admin
2025-11-19T08:07:07.654-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: admin
2025-11-19T08:07:07.654-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_ADMIN
2025-11-19T08:07:07.654-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.a.service.AuthenticationService  :   baseRole: admin
2025-11-19T08:07:07.654-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, EMPLOYEE, TREATMENT, SYSTEM_CONFIGURATION, LEAVE_MANAGEMENT, ACCOUNT, ROOM_MANAGEMENT, APPOINTMENT, HOLIDAY, PATIENT, CUSTOMER_MANAGEMENT, TREATMENT_PLAN, SCHEDULE_MANAGEMENT]
2025-11-19T08:07:07.654-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
Hibernate: 
    insert 
    into
        refresh_tokens
        (account_id, created_at, expires_at, is_active, token_hash, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        br1_0.base_role_id,
        br1_0.base_role_name,
        br1_0.created_at,
        br1_0.description,
        br1_0.is_active,
        br1_0.updated_at,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        p1_1.parent_permission_id,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    join
        base_roles br1_0 
            on br1_0.base_role_id=r1_0.base_role_id 
    join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    where
        a1_0.username=?
Hibernate: 
    select
        e1_0.employee_id,
        e1_0.account_id,
        e1_0.address,
        e1_0.created_at,
        e1_0.date_of_birth,
        e1_0.employee_code,
        e1_0.employment_type,
        e1_0.first_name,
        e1_0.is_active,
        e1_0.last_name,
        e1_0.phone 
    from
        employees e1_0 
    where
        e1_0.account_id=?
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.account_id,
        p1_0.address,
        p1_0.allergies,
        p1_0.created_at,
        p1_0.date_of_birth,
        p1_0.email,
        p1_0.emergency_contact_name,
        p1_0.emergency_contact_phone,
        p1_0.first_name,
        p1_0.gender,
        p1_0.is_active,
        p1_0.last_name,
        p1_0.medical_history,
        p1_0.patient_code,
        p1_0.phone,
        p1_0.updated_at 
    from
        patients p1_0 
    where
        p1_0.account_id=?
Hibernate: 
    select
        p1_0.permission_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.display_order,
        p1_0.is_active,
        p1_0.module,
        pp1_0.permission_id,
        pp1_0.created_at,
        pp1_0.description,
        pp1_0.display_order,
        pp1_0.is_active,
        pp1_0.module,
        pp1_0.parent_permission_id,
        pp1_0.permission_name,
        p1_0.permission_name 
    from
        permissions p1_0 
    left join
        permissions pp1_0 
            on pp1_0.permission_id=p1_0.parent_permission_id 
    where
        p1_0.permission_id=?
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        br1_0.base_role_id,
        br1_0.base_role_name,
        br1_0.created_at,
        br1_0.description,
        br1_0.is_active,
        br1_0.updated_at,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        p1_1.parent_permission_id,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    join
        base_roles br1_0 
            on br1_0.base_role_id=r1_0.base_role_id 
    join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    where
        a1_0.username=?
Hibernate: 
    select
        rt1_0.id,
        rt1_0.account_id,
        rt1_0.created_at,
        rt1_0.expires_at,
        rt1_0.is_active,
        rt1_0.token_hash,
        rt1_0.updated_at 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.id=?
2025-11-19T08:07:19.845-08:00 DEBUG 8932 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: admin
2025-11-19T08:07:19.845-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: admin
2025-11-19T08:07:19.845-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_ADMIN
2025-11-19T08:07:19.845-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.a.service.AuthenticationService  :   baseRole: admin
2025-11-19T08:07:19.845-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, EMPLOYEE, TREATMENT, SYSTEM_CONFIGURATION, LEAVE_MANAGEMENT, ROOM_MANAGEMENT, ACCOUNT, APPOINTMENT, HOLIDAY, PATIENT, CUSTOMER_MANAGEMENT, TREATMENT_PLAN, SCHEDULE_MANAGEMENT]
2025-11-19T08:07:19.845-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
Hibernate: 
    insert 
    into
        refresh_tokens
        (account_id, created_at, expires_at, is_active, token_hash, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-19T08:07:50.605-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.c.TreatmentPlanController      : REST request to get all treatment plans - status=null, approvalStatus=null, searchTerm=null
2025-11-19T08:07:50.617-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.service.TreatmentPlanService   : Getting all treatment plans with filters: status=null, approvalStatus=null, searchTerm=null
2025-11-19T08:07:50.620-08:00 DEBUG 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.service.TreatmentPlanService   : User has VIEW_ALL: true, VIEW_OWN: true
Hibernate: 
    select
        a1_0.account_id,
        a1_0.account_code,
        a1_0.created_at,
        a1_0.email,
        a1_0.must_change_password,
        a1_0.password,
        a1_0.password_changed_at,
        a1_0.role_id,
        r1_0.role_id,
        r1_0.base_role_id,
        r1_0.created_at,
        r1_0.description,
        r1_0.is_active,
        p1_0.role_id,
        p1_1.permission_id,
        p1_1.created_at,
        p1_1.description,
        p1_1.display_order,
        p1_1.is_active,
        p1_1.module,
        pp1_0.permission_id,
        pp1_0.created_at,
        pp1_0.description,
        pp1_0.display_order,
        pp1_0.is_active,
        pp1_0.module,
        pp1_0.parent_permission_id,
        pp1_0.permission_name,
        p1_1.permission_name,
        r1_0.requires_specialization,
        r1_0.role_name,
        a1_0.status,
        a1_0.username 
    from
        accounts a1_0 
    join
        roles r1_0 
            on r1_0.role_id=a1_0.role_id 
    left join
        role_permissions p1_0 
            on r1_0.role_id=p1_0.role_id 
    left join
        permissions p1_1 
            on p1_1.permission_id=p1_0.permission_id 
    left join
        permissions pp1_0 
            on pp1_0.permission_id=p1_1.parent_permission_id 
    where
        a1_0.account_id=?
Hibernate: 
    select
        e1_0.employee_id,
        e1_0.account_id,
        e1_0.address,
        e1_0.created_at,
        e1_0.date_of_birth,
        e1_0.employee_code,
        e1_0.employment_type,
        e1_0.first_name,
        e1_0.is_active,
        e1_0.last_name,
        e1_0.phone 
    from
        employees e1_0 
    where
        e1_0.account_id=?
Hibernate: 
    select
        p1_0.patient_id,
        p1_0.account_id,
        p1_0.address,
        p1_0.allergies,
        p1_0.created_at,
        p1_0.date_of_birth,
        p1_0.email,
        p1_0.emergency_contact_name,
        p1_0.emergency_contact_phone,
        p1_0.first_name,
        p1_0.gender,
        p1_0.is_active,
        p1_0.last_name,
        p1_0.medical_history,
        p1_0.patient_code,
        p1_0.phone,
        p1_0.updated_at 
    from
        patients p1_0 
    where
        p1_0.account_id=?
2025-11-19T08:07:50.676-08:00 DEBUG 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.service.TreatmentPlanService   : User accountId=17, baseRoleId=1
2025-11-19T08:07:50.676-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.service.TreatmentPlanService   : ADMIN mode: Can view all plans. Applying optional filters (doctorCode=null, patientCode=null)
Hibernate: 
    select
        distinct ptp1_0.plan_id,
        ptp1_0.approval_status,
        ptp1_0.approved_at,
        ptp1_0.approved_by,
        ptp1_0.created_at,
        cb1_0.employee_id,
        cb1_0.account_id,
        cb1_0.address,
        cb1_0.created_at,
        cb1_0.date_of_birth,
        cb1_0.employee_code,
        cb1_0.employment_type,
        cb1_0.first_name,
        cb1_0.is_active,
        cb1_0.last_name,
        cb1_0.phone,
        ptp1_0.discount_amount,
        ptp1_0.expected_end_date,
        ptp1_0.final_cost,
        ptp1_0.patient_id,
        p1_0.patient_id,
        p1_0.account_id,
        p1_0.address,
        p1_0.allergies,
        p1_0.created_at,
        p1_0.date_of_birth,
        p1_0.email,
        p1_0.emergency_contact_name,
        p1_0.emergency_contact_phone,
        p1_0.first_name,
        p1_0.gender,
        p1_0.is_active,
        p1_0.last_name,
        p1_0.medical_history,
        p1_0.patient_code,
        p1_0.phone,
        p1_0.updated_at,
        ptp1_0.patient_consent_date,
        ptp1_0.payment_type,
        ptp1_0.plan_code,
        ptp1_0.plan_name,
        ptp1_0.rejection_reason,
        st1_0.template_id,
        st1_0.created_at,
        st1_0.description,
        st1_0.estimated_duration_days,
        st1_0.is_active,
        st1_0.specialization_id,
        st1_0.template_code,
        st1_0.template_name,
        st1_0.total_price,
        st1_0.updated_at,
        ptp1_0.start_date,
        ptp1_0.status,
        ptp1_0.total_price 
    from
        patient_treatment_plans ptp1_0 
    left join
        patients p1_0 
            on p1_0.patient_id=ptp1_0.patient_id 
    left join
        employees cb1_0 
            on cb1_0.employee_id=ptp1_0.created_by 
    left join
        treatment_plan_templates st1_0 
            on st1_0.template_id=ptp1_0.template_id 
    where
        1=1 
    offset
        ? rows 
    fetch
        first ? rows only
Hibernate: 
    select
        count(ptp1_0.plan_id) 
    from
        patient_treatment_plans ptp1_0 
    where
        1=1
2025-11-19T08:07:50.759-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.service.TreatmentPlanService   : Found 5 treatment plans (page 1/2)
2025-11-19T08:07:50.765-08:00  INFO 8932 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.c.TreatmentPlanController      : Returning 5 treatment plans (page 1/2, total: 10)
2025-11-19T08:08:39.931-08:00 ERROR 8932 --- [Dental Clinic Management] [nio-8080-exec-9] c.d.c.m.e.GlobalExceptionHandler         : Unexpected error at /api/v1/patient-treatment-plans/PLAN-20251001-001: No static resource api/v1/patient-treatment-plans/PLAN-20251001-001.

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/patient-treatment-plans/PLAN-20251001-001.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at com.dental.clinic.management.config.JwtBlacklistFilter.doFilterInternal(JwtBlacklistFilter.java:45) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

