nohup: ignoring input

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v3.2.10)

2025-11-20T07:14:05.910-08:00  INFO 2232 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : Starting DentalClinicManagementApplication v0.0.1-SNAPSHOT using Java 17.0.12 with PID 2232 (D:\Code\PDCMS_BE\target\dental-clinic-management-0.0.1-SNAPSHOT.jar started by congt in D:\Code\PDCMS_BE)
2025-11-20T07:14:05.916-08:00 DEBUG 2232 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : Running with Spring Boot v3.2.10, Spring v6.1.13
2025-11-20T07:14:05.917-08:00  INFO 2232 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-11-20T07:14:11.742-08:00  INFO 2232 --- [Dental Clinic Management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20T07:14:12.485-08:00  INFO 2232 --- [Dental Clinic Management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 714 ms. Found 44 JPA repository interfaces.
2025-11-20T07:14:16.588-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-20T07:14:16.621-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-20T07:14:16.622-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-11-20T07:14:16.776-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-20T07:14:16.780-08:00  INFO 2232 --- [Dental Clinic Management] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10662 ms
2025-11-20T07:14:17.631-08:00 DEBUG 2232 --- [Dental Clinic Management] [           main] c.d.c.m.config.JwtBlacklistFilter        : Filter 'jwtBlacklistFilter' configured for use
2025-11-20T07:14:17.966-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20T07:14:18.138-08:00  INFO 2232 --- [Dental Clinic Management] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.10.Final
2025-11-20T07:14:18.263-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-20T07:14:19.104-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20T07:14:19.191-08:00  INFO 2232 --- [Dental Clinic Management] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-20T07:14:19.681-08:00  INFO 2232 --- [Dental Clinic Management] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f8fb906
2025-11-20T07:14:19.687-08:00  INFO 2232 --- [Dental Clinic Management] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-20T07:14:19.842-08:00  WARN 2232 --- [Dental Clinic Management] [           main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20T07:14:28.084-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20T07:14:28.247-08:00  WARN 2232 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-20T07:14:28.247-08:00  WARN 2232 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : drop cascades to 2 other objects
2025-11-20T07:14:28.254-08:00  WARN 2232 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-20T07:14:28.255-08:00  WARN 2232 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : drop cascades to 2 other objects
2025-11-20T07:14:28.262-08:00  WARN 2232 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-20T07:14:28.262-08:00  WARN 2232 --- [Dental Clinic Management] [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : drop cascades to 2 other objects
2025-11-20T07:14:30.605-08:00  INFO 2232 --- [Dental Clinic Management] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20T07:14:31.772-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20T07:14:39.230-08:00  INFO 2232 --- [Dental Clinic Management] [           main] c.d.c.m.b.service.RoomService            : IdGenerator injected into Room entity
2025-11-20T07:14:42.289-08:00  WARN 2232 --- [Dental Clinic Management] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-20T07:14:43.698-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-11-20T07:14:43.952-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63c2e3a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1d0d5b, org.springframework.security.web.context.SecurityContextHolderFilter@55a773df, org.springframework.security.web.header.HeaderWriterFilter@468aee53, org.springframework.web.filter.CorsFilter@75f3e99d, org.springframework.security.web.authentication.logout.LogoutFilter@63cbd6e1, com.dental.clinic.management.config.JwtBlacklistFilter@702cfbde, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@408fd30e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@276a2965, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40f71989, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6a3561, org.springframework.security.web.session.SessionManagementFilter@4d376558, org.springframework.security.web.access.ExceptionTranslationFilter@51cc7aef, org.springframework.security.web.access.intercept.AuthorizationFilter@2cd24be6]
2025-11-20T07:14:47.884-08:00  INFO 2232 --- [Dental Clinic Management] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-11-20T07:14:47.983-08:00  INFO 2232 --- [Dental Clinic Management] [           main] .d.c.m.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 44.156 seconds (process running for 45.91)
2025-11-20T07:16:04.213-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-20T07:16:04.214-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-20T07:16:04.217-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-11-20T07:16:05.620-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.e.GlobalExceptionHandler         : Authentication failed at /api/v1/auth/login: Bad credentials
2025-11-20T07:19:40.829-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: bacsi2
2025-11-20T07:19:40.830-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: bacsi2
2025-11-20T07:19:40.830-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_DENTIST
2025-11-20T07:19:40.830-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   baseRole: employee
2025-11-20T07:19:40.830-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, APPOINTMENT, HOLIDAY, TREATMENT, PATIENT, LEAVE_MANAGEMENT, TREATMENT_PLAN, SCHEDULE_MANAGEMENT]
2025-11-20T07:19:40.831-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
2025-11-20T07:20:46.949-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-8] .c.m.b.s.AppointmentDentalServiceService : Request to get services for current doctor - page: 0, size: 10, sortBy: serviceId, sortDirection: ASC, isActive: null, keyword: null
2025-11-20T07:20:47.062-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-8] .c.m.b.s.AppointmentDentalServiceService : Employee EMP002 has 3 specializations: [2, 7, 8]
2025-11-20T07:20:47.114-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-8] .c.m.b.s.AppointmentDentalServiceService : Found 12 total services matching doctor's specializations, returning page 0 with 10 services
2025-11-20T07:21:17.213-08:00 ERROR 2232 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.e.GlobalExceptionHandler         : Unexpected error at /api/v1/patients/P001/treatment-plans/custom: JSON parse error: Invalid UTF-8 middle byte 0x6d

org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid UTF-8 middle byte 0x6d
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:406) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:184) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:161) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:135) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at com.dental.clinic.management.config.JwtBlacklistFilter.doFilterInternal(JwtBlacklistFilter.java:45) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0x6d
 at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 13, column: 25] (through reference chain: com.dental.clinic.management.treatment_plans.dto.request.CreateCustomPlanRequest["phases"]->java.util.ArrayList[0]->com.dental.clinic.management.treatment_plans.dto.request.CreateCustomPlanRequest$PhaseRequest["items"]->java.util.ArrayList[0])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:373) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:375) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:359) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:392) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1481) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395) ~[spring-web-6.1.13.jar!/:6.1.13]
	... 143 common frames omitted
Caused by: com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 middle byte 0x6d
 at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 13, column: 25]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2477) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:750) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidOther(UTF8StreamJsonParser.java:3716) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidOther(UTF8StreamJsonParser.java:3723) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipUtf8_3(UTF8StreamJsonParser.java:3597) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipString(UTF8StreamJsonParser.java:2699) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextFieldName(UTF8StreamJsonParser.java:1038) ~[jackson-core-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:399) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:359) ~[jackson-databind-2.15.4.jar!/:2.15.4]
	... 158 common frames omitted

2025-11-20T07:23:07.008-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.e.GlobalExceptionHandler         : Validation failed at /api/v1/patients/P001/treatment-plans/custom: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.dental.clinic.management.treatment_plans.dto.TreatmentPlanDetailResponse> com.dental.clinic.management.treatment_plans.controller.TreatmentPlanController.createCustomTreatmentPlan(java.lang.String,com.dental.clinic.management.treatment_plans.dto.request.CreateCustomPlanRequest) with 6 errors: [Field error in object 'createCustomPlanRequest' on field 'paymentType': rejected value [null]; codes [NotNull.createCustomPlanRequest.paymentType,NotNull.paymentType,NotNull.com.dental.clinic.management.treatment_plans.enums.PaymentType,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCustomPlanRequest.paymentType,paymentType]; arguments []; default message [paymentType]]; default message [Payment type is required]] [Field error in object 'createCustomPlanRequest' on field 'planName': rejected value [null]; codes [NotBlank.createCustomPlanRequest.planName,NotBlank.planName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCustomPlanRequest.planName,planName]; arguments []; default message [planName]]; default message [Plan name is required]] [Field error in object 'createCustomPlanRequest' on field 'phases[0].items[1].sequenceNumber': rejected value [null]; codes [NotNull.createCustomPlanRequest.phases[0].items[1].sequenceNumber,NotNull.createCustomPlanRequest.phases[0].items.sequenceNumber,NotNull.createCustomPlanRequest.phases.items.sequenceNumber,NotNull.phases[0].items[1].sequenceNumber,NotNull.phases[0].items.sequenceNumber,NotNull.phases.items.sequenceNumber,NotNull.sequenceNumber,NotNull.java.lang.Integer,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCustomPlanRequest.phases[0].items[1].sequenceNumber,phases[0].items[1].sequenceNumber]; arguments []; default message [phases[0].items[1].sequenceNumber]]; default message [Sequence number is required]] [Field error in object 'createCustomPlanRequest' on field 'discountAmount': rejected value [null]; codes [NotNull.createCustomPlanRequest.discountAmount,NotNull.discountAmount,NotNull.java.math.BigDecimal,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCustomPlanRequest.discountAmount,discountAmount]; arguments []; default message [discountAmount]]; default message [Discount amount is required]] [Field error in object 'createCustomPlanRequest' on field 'doctorEmployeeCode': rejected value [null]; codes [NotBlank.createCustomPlanRequest.doctorEmployeeCode,NotBlank.doctorEmployeeCode,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCustomPlanRequest.doctorEmployeeCode,doctorEmployeeCode]; arguments []; default message [doctorEmployeeCode]]; default message [Doctor employee code is required]] [Field error in object 'createCustomPlanRequest' on field 'phases[0].items[0].sequenceNumber': rejected value [null]; codes [NotNull.createCustomPlanRequest.phases[0].items[0].sequenceNumber,NotNull.createCustomPlanRequest.phases[0].items.sequenceNumber,NotNull.createCustomPlanRequest.phases.items.sequenceNumber,NotNull.phases[0].items[0].sequenceNumber,NotNull.phases[0].items.sequenceNumber,NotNull.phases.items.sequenceNumber,NotNull.sequenceNumber,NotNull.java.lang.Integer,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCustomPlanRequest.phases[0].items[0].sequenceNumber,phases[0].items[0].sequenceNumber]; arguments []; default message [phases[0].items[0].sequenceNumber]]; default message [Sequence number is required]] 
2025-11-20T07:24:27.829-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.t.c.TreatmentPlanController      : REST request to create CUSTOM treatment plan - Patient: P001, Doctor: EMP002, Phases: 2
2025-11-20T07:24:27.834-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.t.s.CustomTreatmentPlanService   : Creating custom treatment plan. Patient: P001, Doctor: EMP002, Phases: 2
2025-11-20T07:24:27.843-08:00 ERROR 2232 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.t.s.CustomTreatmentPlanService   : Patient not found: P001
2025-11-20T07:24:27.848-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-5] c.d.c.m.e.GlobalExceptionHandler         : 400 BAD_REQUEST exception at /api/v1/patients/P001/treatment-plans/custom: Patient not found with code: P001
2025-11-20T07:25:02.922-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.c.TreatmentPlanController      : REST request to create CUSTOM treatment plan - Patient: P001, Doctor: EMP002, Phases: 1
2025-11-20T07:25:02.927-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.CustomTreatmentPlanService   : Creating custom treatment plan. Patient: P001, Doctor: EMP002, Phases: 1
2025-11-20T07:25:02.934-08:00 ERROR 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.CustomTreatmentPlanService   : Patient not found: P001
2025-11-20T07:25:02.938-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.e.GlobalExceptionHandler         : 400 BAD_REQUEST exception at /api/v1/patients/P001/treatment-plans/custom: Patient not found with code: P001
2025-11-20T07:25:52.089-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-9] c.d.c.m.t.c.TreatmentPlanController      : REST request to create CUSTOM treatment plan - Patient: P001, Doctor: EMP002, Phases: 1
2025-11-20T07:25:52.093-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-9] c.d.c.m.t.s.CustomTreatmentPlanService   : Creating custom treatment plan. Patient: P001, Doctor: EMP002, Phases: 1
2025-11-20T07:25:52.100-08:00 ERROR 2232 --- [Dental Clinic Management] [nio-8080-exec-9] c.d.c.m.t.s.CustomTreatmentPlanService   : Patient not found: P001
2025-11-20T07:25:52.103-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-9] c.d.c.m.e.GlobalExceptionHandler         : 400 BAD_REQUEST exception at /api/v1/patients/P001/treatment-plans/custom: Patient not found with code: P001
2025-11-20T07:26:27.071-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.c.TreatmentPlanController      : REST request to create CUSTOM treatment plan - Patient: BN-1001, Doctor: EMP002, Phases: 1
2025-11-20T07:26:27.075-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : Creating custom treatment plan. Patient: BN-1001, Doctor: EMP002, Phases: 1
2025-11-20T07:26:27.099-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : Validating doctor specializations. Doctor: EMP002 Tr?nh Công Thái, Specializations: N?i nha (ID:2), R?ng th?m m? (ID:7), STANDARD - Y t? c? b?n (ID:8)
2025-11-20T07:26:27.110-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : ? Service GEN_EXAM requires spec 8 - doctor has it
2025-11-20T07:26:27.118-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : ? Service ENDO_TREAT_POST requires spec 2 - doctor has it
2025-11-20T07:26:27.119-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : ? All services validated: Doctor EMP002 has required specializations for 2 service(s)
2025-11-20T07:26:27.134-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.util.PlanCodeGenerator         : Generated plan code: PLAN-20251120-002 (sequence: 2)
2025-11-20T07:26:27.134-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : Generated plan code: PLAN-20251120-002
2025-11-20T07:26:27.157-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : Created plan entity. PlanCode: PLAN-20251120-002, PlanId: 12
2025-11-20T07:26:27.172-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : V21.4: Auto-filled price for GEN_EXAM: 100000.00 VND (from service default)
2025-11-20T07:26:27.179-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : V21.4: Auto-filled price for ENDO_TREAT_POST: 2000000.00 VND (from service default)
2025-11-20T07:26:27.180-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : Created phase 1. Phase: Initial Phase, Items count: 2
2025-11-20T07:26:27.207-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.CustomTreatmentPlanService   : Custom treatment plan created successfully. PlanCode: PLAN-20251120-002, TotalPrice: 2100000.00, FinalCost: 2100000.00, Total Items: 2
2025-11-20T07:26:27.207-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : Getting treatment plan detail - Patient: BN-1001, Plan: PLAN-20251120-002
2025-11-20T07:26:27.245-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : Permissions - VIEW_ALL: false, VIEW_OWN: true
2025-11-20T07:26:27.281-08:00 DEBUG 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : User accountId=2, baseRoleId=2
2025-11-20T07:26:27.298-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : EMPLOYEE mode: Will verify plan was created by employeeId=2
2025-11-20T07:26:27.388-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : Retrieved 2 flat DTO rows from database
2025-11-20T07:26:27.406-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : EMPLOYEE createdBy verification passed: Employee EMP002 viewing plan created by EMP002
2025-11-20T07:26:27.479-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.s.TreatmentPlanDetailService   : Successfully built nested response with 1 phases
2025-11-20T07:26:27.492-08:00  INFO 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.t.c.TreatmentPlanController      : Custom treatment plan created successfully. PlanCode: PLAN-20251120-002, TotalPrice: 2100000.00, ApprovalStatus: DRAFT, TotalItems: 2
2025-11-20T07:27:38.210-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.t.c.TreatmentPlanController      : REST request to create CUSTOM treatment plan - Patient: BN-1001, Doctor: EMP002, Phases: 1
2025-11-20T07:27:38.222-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.t.s.CustomTreatmentPlanService   : Creating custom treatment plan. Patient: BN-1001, Doctor: EMP002, Phases: 1
2025-11-20T07:27:38.271-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.t.s.CustomTreatmentPlanService   : Validating doctor specializations. Doctor: EMP002 Tr?nh Công Thái, Specializations: N?i nha (ID:2), R?ng th?m m? (ID:7), STANDARD - Y t? c? b?n (ID:8)
2025-11-20T07:27:38.300-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.t.s.CustomTreatmentPlanService   : Specialization mismatch: Service 'ORTHO_RETAINER_REMOV' (Làm hàm duy trì tháo l?p) requires specialization 'Ch?nh nha' (ID: 1)
2025-11-20T07:27:38.314-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.e.GlobalExceptionHandler         : 400 BAD_REQUEST exception at /api/v1/patients/BN-1001/treatment-plans/custom: Doctor EMP002 (Tr?nh Công Thái) cannot create this treatment plan. Doctor's specializations: [N?i nha (ID:2), R?ng th?m m? (ID:7), STANDARD - Y t? c? b?n (ID:8)]. Missing required specializations for 1 service(s):
Service 'ORTHO_RETAINER_REMOV' (Làm hàm duy trì tháo l?p) requires specialization 'Ch?nh nha' (ID: 1)
2025-11-20T07:28:12.802-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.c.TreatmentPlanController      : REST request to create CUSTOM treatment plan - Patient: BN-1001, Doctor: EMP002, Phases: 1
2025-11-20T07:28:12.806-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.s.CustomTreatmentPlanService   : Creating custom treatment plan. Patient: BN-1001, Doctor: EMP002, Phases: 1
2025-11-20T07:28:12.822-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.s.CustomTreatmentPlanService   : Validating doctor specializations. Doctor: EMP002 Tr?nh Công Thái, Specializations: N?i nha (ID:2), R?ng th?m m? (ID:7), STANDARD - Y t? c? b?n (ID:8)
2025-11-20T07:28:12.828-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.s.CustomTreatmentPlanService   : ? Service GEN_EXAM requires spec 8 - doctor has it
2025-11-20T07:28:12.837-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.s.CustomTreatmentPlanService   : Specialization mismatch: Service 'ORTHO_RETAINER_REMOV' (Làm hàm duy trì tháo l?p) requires specialization 'Ch?nh nha' (ID: 1)
2025-11-20T07:28:12.843-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.t.s.CustomTreatmentPlanService   : Specialization mismatch: Service 'ORTHO_BRACES_OFF' (Tháo m?c cài & V? sinh) requires specialization 'Ch?nh nha' (ID: 1)
2025-11-20T07:28:12.847-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-7] c.d.c.m.e.GlobalExceptionHandler         : 400 BAD_REQUEST exception at /api/v1/patients/BN-1001/treatment-plans/custom: Doctor EMP002 (Tr?nh Công Thái) cannot create this treatment plan. Doctor's specializations: [N?i nha (ID:2), R?ng th?m m? (ID:7), STANDARD - Y t? c? b?n (ID:8)]. Missing required specializations for 2 service(s):
Service 'ORTHO_RETAINER_REMOV' (Làm hàm duy trì tháo l?p) requires specialization 'Ch?nh nha' (ID: 1)
Service 'ORTHO_BRACES_OFF' (Tháo m?c cài & V? sinh) requires specialization 'Ch?nh nha' (ID: 1)
2025-11-20T07:28:40.876-08:00 ERROR 2232 --- [Dental Clinic Management] [nio-8080-exec-8] c.d.c.m.e.GlobalExceptionHandler         : Unexpected error at /api/v1/patients/BN-1001/treatment-plans/12/status: No static resource api/v1/patients/BN-1001/treatment-plans/12/status.

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/patients/BN-1001/treatment-plans/12/status.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at com.dental.clinic.management.config.JwtBlacklistFilter.doFilterInternal(JwtBlacklistFilter.java:45) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2025-11-20T07:29:18.618-08:00 ERROR 2232 --- [Dental Clinic Management] [nio-8080-exec-1] c.d.c.m.e.GlobalExceptionHandler         : Unexpected error at /api/v1/treatment-plans/patient-treatment-plans/PLAN-20251120-002/submit-for-review: No static resource api/v1/treatment-plans/patient-treatment-plans/PLAN-20251120-002/submit-for-review.

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/treatment-plans/patient-treatment-plans/PLAN-20251120-002/submit-for-review.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at com.dental.clinic.management.config.JwtBlacklistFilter.doFilterInternal(JwtBlacklistFilter.java:45) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2025-11-20T07:30:30.801-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.c.TreatmentPlanController      : ? REST request to submit treatment plan for review: PLAN-20251120-002
2025-11-20T07:30:30.804-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.s.TreatmentPlanApprovalService : API 5.12: Submitting treatment plan PLAN-20251120-002 for review
2025-11-20T07:30:30.813-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.s.TreatmentPlanApprovalService : Found plan PLAN-20251120-002 with current status: DRAFT
2025-11-20T07:30:30.861-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.s.TreatmentPlanApprovalService : Plan PLAN-20251120-002 status changed: DRAFT ? PENDING_REVIEW
2025-11-20T07:30:30.872-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.s.TreatmentPlanApprovalService : Audit log created for plan PLAN-20251120-002 submission
2025-11-20T07:30:30.877-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.s.TreatmentPlanApprovalService : API 5.12: Successfully submitted plan PLAN-20251120-002 for review
2025-11-20T07:30:30.893-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.c.TreatmentPlanController      : ? Treatment plan PLAN-20251120-002 submitted for review. Status: DRAFT ? PENDING_REVIEW
2025-11-20T07:31:03.928-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: quanli1
2025-11-20T07:31:03.928-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: quanli1
2025-11-20T07:31:03.929-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_MANAGER
2025-11-20T07:31:03.929-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.a.service.AuthenticationService  :   baseRole: employee
2025-11-20T07:31:03.929-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, ROOM_MANAGEMENT, EMPLOYEE, APPOINTMENT, HOLIDAY, PATIENT, SYSTEM_CONFIGURATION, CUSTOMER_MANAGEMENT, LEAVE_MANAGEMENT, SCHEDULE_MANAGEMENT, TREATMENT_PLAN]
2025-11-20T07:31:03.929-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
2025-11-20T07:31:37.966-08:00 ERROR 2232 --- [Dental Clinic Management] [io-8080-exec-10] c.d.c.m.e.GlobalExceptionHandler         : Unexpected error at /api/v1/patient-treatment-plans/PLAN-20251120-002/approve: No static resource api/v1/patient-treatment-plans/PLAN-20251120-002/approve.

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/patient-treatment-plans/PLAN-20251120-002/approve.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at com.dental.clinic.management.config.JwtBlacklistFilter.doFilterInternal(JwtBlacklistFilter.java:45) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.2.6.jar!/:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar!/:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2025-11-20T07:47:51.410-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: quanli1
2025-11-20T07:47:51.410-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: quanli1
2025-11-20T07:47:51.410-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_MANAGER
2025-11-20T07:47:51.410-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.a.service.AuthenticationService  :   baseRole: employee
2025-11-20T07:47:51.410-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, ROOM_MANAGEMENT, EMPLOYEE, APPOINTMENT, HOLIDAY, PATIENT, SYSTEM_CONFIGURATION, LEAVE_MANAGEMENT, CUSTOMER_MANAGEMENT, TREATMENT_PLAN, SCHEDULE_MANAGEMENT]
2025-11-20T07:47:51.411-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-3] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
2025-11-20T07:50:52.685-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  : Refresh token saved to database for user: quanli1
2025-11-20T07:50:52.686-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  : Login response prepared for user: quanli1
2025-11-20T07:50:52.686-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   role: ROLE_MANAGER
2025-11-20T07:50:52.686-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   baseRole: employee
2025-11-20T07:50:52.686-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   groupedPermissions modules: [SERVICE_MANAGEMENT, ROOM_MANAGEMENT, EMPLOYEE, APPOINTMENT, HOLIDAY, PATIENT, SYSTEM_CONFIGURATION, CUSTOMER_MANAGEMENT, LEAVE_MANAGEMENT, TREATMENT_PLAN, SCHEDULE_MANAGEMENT]
2025-11-20T07:50:52.686-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-4] c.d.c.m.a.service.AuthenticationService  :   employmentType: FULL_TIME
2025-11-20T07:51:56.771-08:00  WARN 2232 --- [Dental Clinic Management] [nio-8080-exec-8] c.d.c.m.e.GlobalExceptionHandler         : Access denied at /api/v1/treatment-plans: Access Denied
2025-11-20T07:52:38.494-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.c.TreatmentPlanController      : REST request to get treatment plans for patient: BN-1001 (page: 0, size: 20)
2025-11-20T07:52:38.495-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.service.TreatmentPlanService   : Getting treatment plans for patient: BN-1001 with pagination (page: 0, size: 20)
2025-11-20T07:52:38.509-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.service.TreatmentPlanService   : User has VIEW_TREATMENT_PLAN_ALL permission, allowing paginated access
2025-11-20T07:52:38.537-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.service.TreatmentPlanService   : Found 4 treatment plans for patient BN-1001 (total: 4, page: 1/1)
2025-11-20T07:52:38.542-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-2] c.d.c.m.t.c.TreatmentPlanController      : Returning 4 treatment plans for patient BN-1001 (total: 4, page: 1/1)
2025-11-20T07:54:41.557-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.c.TreatmentPlanController      : REST request to approve/reject treatment plan: PLAN-20251120-002 with status: APPROVED
2025-11-20T07:54:41.561-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : Starting approval process for plan: PLAN-20251120-002
2025-11-20T07:54:41.604-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : Updated plan PLAN-20251120-002 to approval status: APPROVED
2025-11-20T07:54:41.604-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : V21: Activating plan PLAN-20251120-002 items with clinical rules check
2025-11-20T07:54:41.652-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : V21: Item 68 (service 14) ? READY_FOR_BOOKING (no prerequisites)
2025-11-20T07:54:41.660-08:00 DEBUG 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : V21: Item 69 (service 2) ? READY_FOR_BOOKING (no prerequisites)
2025-11-20T07:54:41.660-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : V21: ? Plan PLAN-20251120-002 activation complete - 2 items READY, 0 items WAITING for prerequisites
2025-11-20T07:54:41.669-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : Created audit log for plan PLAN-20251120-002 approval action
2025-11-20T07:54:41.680-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.s.TreatmentPlanApprovalService : Approval process completed for plan: PLAN-20251120-002
2025-11-20T07:54:41.700-08:00  INFO 2232 --- [Dental Clinic Management] [nio-8080-exec-6] c.d.c.m.t.c.TreatmentPlanController      : Treatment plan PLAN-20251120-002 approval status updated to: APPROVED
